<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <title>Expense List</title>
  <link rel="stylesheet" th:href="@{/css/listStyles.css}">
</head>

<body>
<h2>Expense List for Budget: <span th:text="${budgetName}"></span></h2>
<table>
  <thead>
  <tr>
    <!--<th>ID</th>-->
    <th>Description</th>
    <th>Amount</th>
    <th>Date</th>
    <th>Category</th>
    <th>Action</th>
  </tr>
  </thead>
  <tbody>
  <!-- Loop through expenses -->
  <tr th:each="expense : ${expenses}">
    <!--<td th:text="${expense.id}"></td>-->
    <td th:text="${expense.description}"></td>
    <td th:text="${expense.amount}"></td>
    <td th:text="${expense.date}"></td>
    <td th:text="${expense.category}"></td>
    <td>
      <!-- Delete Expense Form -->
      <form action="/deleteExpense" method="post">
        <input type="hidden" name="id" th:value="${expense.id}">
        <input type="hidden" name="budgetId" th:value="${budgetId}">
        <button type="submit" class="delete-button">Delete</button>
      </form>

      <!--Edit Expense Form-->
      <form action="/editExpense" method="get">
        <input type="hidden" name="id" th:value="${expense.id}">
        <button type="submit" class="edit-button">Edit</button>
      </form>
    </td>
  </tr>
  </tbody>
</table>

<!-- Logout button -->
<a th:href="@{/logout}" class="logout-button">Logout</a>

<!-- Back to budget list-->
<a th:href="@{/budgets}">
  <button type="button">Back to Budget List</button>
</a>
</body>

</html>